OSI模型 (open systems interconnection)：还包含表示层和会话层

TCP/IP模型
1. 应用层： 是网络应用程序和它们的应用层协议存在的地方，如http，dns，ftp协议。
2. 传输层： 控制服务器和客户端的点对点传输协议。TCP，UDP协议。传输层的API使用socket函数（winsock）。segment表示传输层封包
3. 网络层： 确定数据的物理路径。将网络层封包（datagram）从一个主机移到其他主机（其间会经过多个节点）。
传输层协议将一个segment和一个目的地址传递到网络层。
网络层有2个基本组件。IP协议（定义了datagram中各域以及终端系统和路由器如何在这些域上操作。），也包含一些路由协议决定datagram走的路径
4. 链路层： 将frame封包从路径上的一个网络节点移动到下一节点。在每个节点，网络层传递datagram到下面的链路层，让它将之发送到路径的下一个节点。
在下个节点，链路层再把datagram传递给网络层。
*节点间通信方式*，其协议是以太网(Ethernet)和Point-toPoint（PPP）
  * 将数据发送给它所有相邻节点，即LAN（local area network） 的广播通信
  * WAN中的点对点通信，例如2个路由器或modem和ISP路由间的通信
对于一个给定的连接来说，链路层协议主要实现在适配器中（即NIC network interface card 网卡）。
frame表示链路层封包。datagram传输到适配器，并封装成frame。frame传输到物理层通信链路
5. 物理层：将frame的原始位流从一个节点移动到下一节点。与连接有关，依赖于传输介质（以太网有物理层协议针对双绞线，光纤等不同介质）

### 以太局域网（ethernet LAN）
>> 以太网各层都有不同的寻址方法，底层mac层通过mac号寻址。
>> mac号是48位标识（12个16进制数），被硬性分配到每个网络接口单元

1. 底层是硬件层：介质访问控制层（Media Access Control,MAC），网卡属于该层。

包含串行网络接口和一个控制器（将数据转换为电子信号并发到正确位置）。
为将封包发送到其他网络接口，封包需包含mac。使用LAN传输时，网卡发送封包frame到所有能到达的接口。

封包的目的mac号与接受的接口的mac号相同时才处理。
但在WAN,Internet等更大的网络不适用。

2. 网际协议层（Internet Protocol）（处于硬件层之上）。

IP的寻址方式：IP地址，在网络接口的IP层寻址。
IP地址可以通过软件分配给网络接口，此时会将IP地址和MAC地址关联。（由ARP address resolution protocol，地址解析协议实现）

每个主机都维护了一个记录IP和MAC地址对的清单，若果目标ip存在则直接发到对应的mac地址。如果目标不在此清单中，主机发出一个询问包到局域网的其他计算机，
以获取与之相匹配的MAC地址。ARP广播到所有子网内主机，第一次传输时，不知道目标mac号，会发送ff:ff:ff:ff:ff:ff,然后确认是否为目标IP，若是则将mac和ip键对传回本机存储到清单中。局域网中没有目标ip，封包就会被送到网关（gateway）。
本机使用arp -a查看清单

IP到MAC的转化发生在数据链接层。

3. 传输控制协议（TCP）层
> 为寻址增加最后一个限制：端口号

4. 软件层
> 程序不直接访问TCP，通过Winsock API访问。
